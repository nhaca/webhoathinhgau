<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VẬT LIỆU HOẠT HÌNH GẤU - PRO VERSION</title>
    <link rel="stylesheet" href="main.css"> 
    <link rel="stylesheet" href="modals.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body class="dark-theme">

    <script>
        document.onkeydown = function(e) {
            // Ngăn F12
            if (e.keyCode == 123) {
                // Tự động đóng cửa sổ hoặc chuyển hướng trang
                window.close(); // Thường bị trình duyệt chặn
                if (window.stop) { // Tải lại trang (thử nghiệm)
                    window.stop();
                    alert("Cảnh báo: Phát hiện mở Công cụ Phát triển. Hệ thống sẽ khóa nếu tiếp tục.");
                    return false;
                }
            }
            // Ngăn Ctrl+Shift+I, J, C, U (Dùng cho Windows/Linux)
            if (e.ctrlKey && e.shiftKey && (e.keyCode == 'I'.charCodeAt(0) || e.keyCode == 'J'.charCodeAt(0) || e.keyCode == 'C'.charCodeAt(0) || e.keyCode == 'U'.charCodeAt(0))) {
                e.preventDefault();
                alert("Không được phép truy cập Công cụ Phát triển.");
            }
            // Ngăn Ctrl+Shift+C (Phổ biến)
            if (e.ctrlKey && e.shiftKey && e.keyCode == 67) {
                 e.preventDefault();
                 alert("Không được phép truy cập Công cụ Phát triển.");
            }
        };
        // Ngăn click chuột phải
        document.addEventListener('contextmenu', e => e.preventDefault());
    </script>
    
    <div class="alert-bar">
        <div class="alert-content-wrapper"> 
            <p>Tài Liệu Có Bản Quyền , Vui Lòng Không Kinh Doanh Với Mục Đích Bất Hợp Pháp. | CẢNH BÁO: PHÁT HIỆN TÀI KHOẢN VI PHẠM SẼ BỊ KHÓA NGAY LẬP TỨC VÀ KHÔNG HOÀN TIỀN.</p>
        </div>
        <span class="close-btn">&times;</span>
    </div>

    <header class="main-header">
        <div class="logo-area">
            <div class="logo-text">VẬT LIỆU HOẠT HÌNH GẤU</div>
        </div>

        <div class="search-bar">
            <input type="text" id="search-input" placeholder="Tìm kiếm tài liệu, bản quyền, nhân...">
            <button class="search-btn" id="search-button"><i class="fas fa-search"></i></button>
        </div>

        <nav class="user-nav">
            <a href="#" class="nav-link">Trang Chủ</a>
            
            <div class="dropdown-member">
                <a href="#" class="nav-link" id="member-btn" onclick="toggleDropdown(event)">Thành Viên <i class="fas fa-chevron-down dropdown-arrow"></i></a>
                <div class="dropdown-content" id="member-dropdown">
                    <a href="#">Thông tin cá nhân</a>
                    <a href="#">Lịch sử giao dịch</a>
                    <a href="#" id="upgrade-link" onclick="showUpgradeModal(event)">Nâng cấp tài khoản</a> 
                    <a href="#" id="admin-link" onclick="showAdminModal(event)" style="display:none; color: gold;">QUẢN TRỊ ADMIN</a>
                    <a href="#" class="logout-btn" onclick="handleLogout()">Đăng xuất</a>
                </div>
            </div>
            
            <a href="#" class="login-btn" id="login-nav-btn" onclick="showLoginModal(event)">Đăng nhập</a>
            
            <a href="#" class="nav-link">Cộng cụ</a>
            <a href="#" class="nav-link">Tanyuyen</a>
            <button class="theme-toggle" id="theme-toggle-btn">☀️</button>
        </nav>
    </header>

    <main class="content-wrapper">
        <nav class="main-menu-nav" id="main-category-nav">
            <button class="main-btn active">Nhân vật</button>
            <button class="main-btn">Cao độ</button>
            <button class="main-btn">Bối cảnh</button>
            <button class="main-btn">Đạo cụ</button>
            <button class="main-btn">Hiệu ứng</button>
        </nav>

        <div class="filter-bar" id="filter-bar-options">
            <button class="filter-btn active">Tất Cả</button>
            <button class="filter-btn">Hoạt Hình</button>
            <button class="filter-btn">Chibi</button>
            <button class="filter-btn">Lịch Sử</button>
            <button class="filter-btn">Mới nhất</button>
            <button class="filter-btn">Miễn phí</button>
        </div>

        <div class="product-grid" id="product-list-container">
            </div>
        
        <div class="pagination-bar">
            <button class="page-btn active">1</button>
            <button class="page-btn">2</button>
            <button class="page-btn">3</button>
            <span class="pagination-dots">...</span>
            <button class="page-btn">10</button>
        </div>

    </main>
    
    <div id="product_detail_modal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('product_detail')">&times;</span>
            <div class="modal-title"><p id="detail-modal-title">Tên Sản Phẩm Chi Tiết</p></div>
            <div class="modal-body">
                <div class="detail-image-area">[Placeholder Image Chi tiết Sản phẩm]</div>
                <div class="detail-description">
                    <h4>Thông tin cơ bản:</h4>
                    <p>Độ phân giải: <strong class="detail-res">4K</strong>, Định dạng: <strong class="detail-format">FBX/OBJ</strong></p>
                    <p>Mô tả: Tài nguyên chất lượng cao, phù hợp cho mục đích thương mại và cá nhân.</p>
                </div>
            </div>
            <div class="modal-price-area">
                <p class="price-label">Giá tiền:</p>
                <p class="item-price" id="detail-modal-price">0 VND</p>
            </div>
            <div class="modal-actions">
                <button class="checkout-button" id="checkout-btn">THANH TOÁN</button>
            </div>
        </div>
    </div>
    
    <div id="payment_modal" class="modal">
        <div class="modal-content large-modal payment-modal-content">
            <span class="close-modal" onclick="closeModal('payment')">&times;</span>
            <div class="modal-title"><p id="payment-modal-title">ĐĂNG NHẬP ĐỂ THANH TOÁN</p></div>
            <div class="payment-form-body">
                <div class="auth-section">
                    <h3>Đăng nhập tài khoản</h3>
                    <form id="loginForm" onsubmit="handleAuthSubmit(event)">
                        <input type="text" name="username" placeholder="Tên tài khoản">
                        <input type="password" name="password" placeholder="Mật khẩu">
                        <button type="submit" class="auth-button login-button">Đăng nhập</button>
                        <a href="#" class="forgot-password">Quên mật khẩu?</a>
                    </form>
                </div>
                <div class="info-section">
                    <h3>Thông tin giao dịch</h3>
                    <p><strong>Tên sản phẩm:</strong> <span class="product-name-display"></span></p>
                    <p><strong>Giá tiền:</strong> <span class="price-display"></span></p>
                    <p class="warning-text">Để thanh toán, vui lòng đăng nhập.</p>
                    <button class="auth-button register-button" onclick="alert('Tính năng đăng ký đã bị vô hiệu hóa cho người dùng mới theo yêu cầu.')">Đăng ký (Vô hiệu hóa)</button>
                </div>
            </div>
        </div>
    </div>

    <div id="upgrade_modal" class="modal">
        <div class="modal-content large-modal upgrade-content">
            <span class="close-modal" onclick="closeModal('upgrade')">&times;</span>
            <div class="modal-title"><p>CHỌN GÓI NÂNG CẤP VIP</p></div>
            <div class="upgrade-tiers">
                <div class="tier-card basic-vip">
                    <h3>VIP CƠ BẢN</h3>
                    <p class="price">50,000 VND / Tháng</p>
                    <ul class="feature-list">
                        <li><i class="fas fa-check-circle"></i> Truy cập 100+ tài nguyên Free</li>
                        <li><i class="fas fa-check-circle"></i> Tốc độ tải thường</li>
                        <li><i class="fas fa-times-circle"></i> Không tải được tài nguyên VIP</li>
                    </ul>
                    <button class="upgrade-btn basic-btn" data-package="Gói Cơ Bản" data-price="50,000 VND" onclick="handleUpgrade(this)">Nâng cấp ngay</button>
                </div>
                <div class="tier-card vip-two recommended">
                    <h3>VIP 2</h3>
                    <p class="price">250,000 VND / Năm</p>
                    <ul class="feature-list">
                        <li><i class="fas fa-check-circle"></i> Truy cập **TOÀN BỘ** tài nguyên</li>
                        <li><i class="fas fa-check-circle"></i> Tốc độ tải TỐI ĐA</li>
                        <li><i class="fas fa-check-circle"></i> Hỗ trợ ưu tiên 24/7</li>
                        <li><i class="fas fa-check-circle"></i> Quyền sử dụng thương mại</li>
                    </ul>
                    <button class="upgrade-btn vip2-btn" data-package="Gói VIP 2" data-price="250,000 VND" onclick="handleUpgrade(this)">Nâng cấp Vip 2</button>
                </div>
                <div class="tier-card unlimited">
                    <h3>VIP VÔ HẠN</h3>
                    <p class="price">1,999,000 VND / Trọn đời</p>
                    <ul class="feature-list">
                        <li><i class="fas fa-check-circle"></i> Tất cả các quyền lợi VIP 2</li>
                        <li><i class="fas fa-check-circle"></i> Trọn đời, không gia hạn</li>
                        <li><i class="fas fa-check-circle"></i> Ưu đãi tài nguyên độc quyền</li>
                    </ul>
                    <button class="upgrade-btn lifetime-btn" data-package="Gói Trọn Đời" data-price="1,999,000 VND" onclick="handleUpgrade(this)">Nâng cấp Trọn đời</button>
                </div>
            </div>
            <div class="upgrade-footer"><p>Lưu ý: Sau khi thanh toán thành công, tài khoản sẽ được kích hoạt ngay lập tức.</p></div>
        </div>
    </div>
    
    <div id="admin_modal" class="modal">
        <div class="modal-content large-modal admin-content">
            <span class="close-modal" onclick="closeModal('admin')">&times;</span>
            <div class="modal-title"><p>BẢNG ĐIỀU KHIỂN ADMIN</p></div>
            <div class="admin-panel-body">
                <h3>Tạo Tài Khoản Thành Viên Mới</h3>
                <form id="createMemberForm" onsubmit="handleCreateMember(event)">
                    <div class="form-group">
                        <label for="new_username">Tên tài khoản:</label>
                        <input type="text" id="new_username" required>
                    </div>
                    <div class="form-group">
                        <label for="new_password">Mật khẩu:</label>
                        <input type="password" id="new_password" required>
                    </div>
                    <div class="form-group">
                        <label for="new_role">Vai trò:</label>
                        <select id="new_role">
                            <option value="Member">Thành viên thường</option>
                            <option value="VIP">Thành viên VIP</option>
                        </select>
                    </div>
                    <button type="submit" class="admin-action-btn">Tạo Tài Khoản</button>
                </form>

                <h3 style="margin-top: 30px;">Quản lý Sản phẩm (Mô phỏng)</h3>
                <button class="admin-action-btn secondary-btn" onclick="alert('Mô phỏng: Chuyển đến trang chỉnh sửa sản phẩm')">Chỉnh sửa Sản phẩm</button>
            </div>
            <div class="admin-footer"><p>Chỉ Admin mới có thể truy cập khu vực này.</p></div>
        </div>
    </div>

    <script src="data.js"></script> 
    <script src="app.js"></script> 
</body>
</html>
